# 테트리스 게임

블로그에 통합된 클래식 테트리스 게임입니다.

## 게임 소개

고전 테트리스 게임을 웹 브라우저에서 즐길 수 있도록 Next.js와 React로 구현했습니다. 게임 로직부터 UI까지 모두 직접 구현했으며, 블로그의 다른 기능과 독립적으로 작동합니다.

## 주요 기능

### 게임 플레이
- **7가지 테트로미노**: I, O, T, S, Z, J, L 블록
- **Bag 알고리즘**: 동일한 블록이 연속으로 나오지 않도록 보장하는 공정한 블록 배치 시스템
- **벽킥(Wall Kick)**: 회전 시 벽에 닿아도 적절한 위치로 이동하여 회전 가능

### 게임 시스템
- **점수 시스템**: 
  - 단일 라인: 100점
  - 더블 라인: 300점
  - 트리플 라인: 500점
  - 테트리스(4줄): 800점
- **레벨 시스템**: 10줄마다 레벨 업, 속도 증가
- **다음 블록 미리보기**: 3개의 다음 블록을 미리 확인 가능
- **홀드 기능**: 현재 블록을 보관하고 나중에 사용 가능

### 사운드 효과
- Web Audio API를 사용한 프로그래밍 방식 사운드 생성
- 블록 이동, 회전, 고정, 라인 클리어 등 각 동작에 맞는 사운드
- 라인 클리어 수에 따라 다른 멜로디 재생
- 사운드 ON/OFF 토글 기능

### 모바일 최적화
- **터치 제스처 지원**: 스와이프, 탭, 길게 누르기로 모든 조작 가능
- **거리 기반 이동**: 좌우 스와이프 시 손가락이 멈춘 지점까지만 블록 이동
- **속도 기반 빠른 조작**: 빠르게 스와이프하면 더 빠르게 이동/낙하
- **모바일 컨트롤 버튼**: 화면 하단에 직관적인 버튼 제공
- **반응형 디자인**: 모바일과 데스크톱 모두 최적화된 UI

### 조작법

#### 키보드 조작
- **← →**: 좌우 이동
- **↓**: 빠른 낙하 (소프트 드롭)
- **↑**: 블록 회전
- **Space**: 즉시 낙하 (하드 드롭)
- **C**: 홀드
- **P**: 일시정지

#### 모바일 터치 조작
- **좌우 스와이프**: 블록 좌우 이동 (손가락이 멈춘 지점까지만 이동)
- **위로 스와이프**: 블록 회전
- **아래 스와이프**: 빠른 낙하
  - 일반 스와이프: 거리에 비례한 빠른 낙하
  - 바닥까지 빠르게 스와이프: 즉시 수직 낙하 (하드 드롭)
- **탭**: 블록 회전 (게임 오버 시 재시작, 일시정지 시 재개)
- **길게 누르기**: 즉시 수직 낙하 (하드 드롭)
- **모바일 컨트롤 버튼**: 화면 하단의 버튼으로 모든 조작 가능

## 기술 스택

- **Next.js 15**: App Router를 사용한 페이지 라우팅
- **TypeScript**: 타입 안정성 보장
- **React Hooks**: useReducer를 활용한 게임 상태 관리
- **Web Audio API**: 프로그래밍 방식 사운드 생성
- **Tailwind CSS**: 반응형 디자인

## 게임 구조

게임은 블로그의 공통 코드와 완전히 분리되어 독립적으로 작동합니다:

```
components/game/tetris/
├── types.ts           # 타입 정의
├── constants.ts       # 게임 상수
├── gameLogic.ts       # 게임 로직 (블록, 충돌, 회전 등)
├── sound.ts           # 사운드 관리
├── touchControls.ts   # 모바일 터치 제어 (스와이프, 탭, 길게 누르기)
├── useTetrisGame.ts   # 게임 상태 관리 훅
├── GameBoard.tsx      # 게임 보드 컴포넌트
├── NextPiecePreview.tsx # 다음 블록 미리보기
├── HeldPiece.tsx      # 홀드 블록 표시
├── GameInfo.tsx       # 점수/레벨 정보
└── TetrisGame.tsx     # 메인 게임 컴포넌트
```

## 개발 배경

블로그를 더 재미있게 만들기 위해 미니게임을 추가하고 싶었습니다. 테트리스는 규칙이 간단하면서도 깊이 있는 게임 플레이를 제공하는 클래식 게임이므로 선택했습니다.

## 향후 계획

- 배경 음악 추가
- 최고 점수 기록 저장 (로컬 스토리지)
- 온라인 리더보드 (선택사항)
- 추가 게임 모드 (예: 타임 어택, 마라톤)

